<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#120020" />
  <title>LesPaw ¬∑ –§–∞–Ω–¥–æ–º–Ω–∞—è –ê—Ç—Ä–∏–±—É—Ç–∏–∫–∞</title>

  <style>
    :root{
      --bg1:#0b0016;
      --bg3:#2a0a4f;

      --card:#f3efe9;
      --cardText:#111;
      --muted:#5b49c9;

      --navBtn:#f3efe9;
      --navIcon:#1a0030;

      --radius2:26px;
      --shadow: 0 10px 26px rgba(0,0,0,.38);
    }

    *{ box-sizing:border-box; }
    html, body { height:100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;
      color:#fff;
      background:
        radial-gradient(1200px 600px at 35% -10%, rgba(200,120,255,.42), transparent 55%),
        radial-gradient(900px 600px at 110% 55%, rgba(120,200,255,.22), transparent 55%),
        linear-gradient(180deg, var(--bg3), var(--bg1));
      overflow-x:hidden;
    }

    .app{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      padding: 22px 18px 110px;
      position:relative;
    }

    .bg-glow{
      position:absolute;
      inset:-40px;
      background:
        radial-gradient(520px 220px at 50% 10%, rgba(255,255,255,.18), transparent 60%),
        radial-gradient(560px 260px at 50% 18%, rgba(170,110,255,.25), transparent 70%);
      pointer-events:none;
      filter: blur(2px);
      opacity:.9;
    }

    .top{ position:relative; z-index:2; }

    .title{
      margin: 0 0 14px;
      font-weight: 900;
      letter-spacing: .3px;
      line-height: 1.1;
      text-shadow: 0 2px 14px rgba(0,0,0,.45);
      font-size: clamp(18px, 4.7vw, 30px);
      display:flex;
      align-items:baseline;
      gap:10px;
      flex-wrap:wrap;
    }
    .title .brand{ color:#fff; }
    .title .dot{ opacity:.9; }
    .title .subbrand{ color: rgba(255,255,255,.92); font-weight: 800; }

    .search{
      width:100%;
      background: rgba(10,0,22,.65);
      border: 1px solid rgba(255,255,255,.20);
      border-radius: 18px;
      padding: 10px 12px;
      display:flex;
      align-items:center;
      gap:10px;
      box-shadow: 0 0 0 1px rgba(255,255,255,.06), 0 0 22px rgba(180,120,255,.30);
    }

    .search input{
      flex:1;
      border:none;
      outline:none;
      background:transparent;
      color:#fff;
      font-size: 16px;
      padding: 2px 4px;
    }
    .search input::placeholder{ color: rgba(255,255,255,.62); }

    .searchBtn{
      width:40px;
      height:40px;
      display:grid;
      place-items:center;
      border:none;
      outline:none;
      cursor:pointer;
      border-radius: 14px;
      background: rgba(255,255,255,.10);
      box-shadow: 0 0 0 1px rgba(255,255,255,.08);
    }
    .searchBtn svg{ fill:#fff; opacity:.92; }
    .searchBtn:active{ transform: translateY(1px); }

    .main{
      position:relative;
      z-index:2;
      margin-top: 16px;
      flex:1;
    }

    .cards{
      display:flex;
      flex-direction:column;
      gap: 18px;
    }

    .card{
      appearance:none;
      border: none;
      width:100%;
      text-align:left;
      background: var(--card);
      border-radius: var(--radius2);
      padding: 18px 18px 16px;
      box-shadow: var(--shadow), 0 0 22px rgba(180,120,255,.26);
      cursor:pointer;
      position:relative;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius: calc(var(--radius2) + 2px);
      background: radial-gradient(100% 120% at 40% 0%, rgba(255,255,255,.55), transparent 55%);
      opacity:.25;
      pointer-events:none;
    }

    .cardTitle{
      color: var(--cardText);
      font-weight: 900;
      letter-spacing: .6px;
      font-size: 26px;
      line-height: 1.02;
      text-transform: uppercase;
    }

    .cardSubtitle{
      margin-top: 6px;
      color: var(--muted);
      font-weight: 800;
      letter-spacing: .3px;
      font-size: 13px;
      text-transform: uppercase;
    }

    .card:active{ transform: translateY(1px); }

    .decor{
      position:absolute;
      right: -10px;
      bottom: 70px;
      width: 260px;
      height: 260px;
      pointer-events:none;
      opacity: .98;
    }

    .foxWrap{
      position:absolute;
      right: 0;
      bottom: 0;
      width: 240px;
      height: 240px;
      filter: drop-shadow(0 10px 26px rgba(0,0,0,.38));
    }

    .fox{ width:100%; height:100%; }

    .hearts{
      position:absolute;
      right: 70px;
      bottom: 180px;
      width: 160px;
      height: 110px;
    }

    .heart, .spark{
      position:absolute;
      filter: drop-shadow(0 8px 14px rgba(0,0,0,.35));
      opacity:.95;
    }

    .heart{ font-size: 26px; }
    .h1{ right: 0; top: 6px; transform: rotate(12deg); }
    .h2{ right: 42px; top: 34px; transform: rotate(-8deg); font-size: 30px; }
    .h3{ right: 16px; top: 58px; transform: rotate(8deg); font-size: 22px; opacity:.85; }

    .spark{ font-size: 16px; opacity:.75; }
    .s1{ right: 26px; top: 20px; }
    .s2{ right: 78px; top: 64px; }

    .bottomNav{
      position: fixed;
      left: 18px;
      right: 18px;
      bottom: max(18px, env(safe-area-inset-bottom));
      display:flex;
      justify-content: space-between;
      gap: 18px;
      z-index: 5;
    }

    .navBtn{
      flex: 1;
      height: 72px;
      border: none;
      border-radius: 22px;
      background: var(--navBtn);
      box-shadow: var(--shadow), 0 0 18px rgba(180,120,255,.26);
      display:grid;
      place-items:center;
      position:relative;
      cursor:pointer;
    }

    .navBtn svg{ fill: var(--navIcon); }
    .navBtn:active{ transform: translateY(1px); }

    .badge{
      position:absolute;
      top: 10px;
      right: 12px;
      min-width: 22px;
      height: 22px;
      padding: 0 7px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      font-size: 12px;
      font-weight: 900;
      color:#fff;
      background: #b977ff;
      box-shadow: 0 0 14px rgba(185,119,255,.85);
    }

    .badge.glow{
      box-shadow: 0 0 0 1px rgba(255,255,255,.12), 0 0 18px rgba(185,119,255,.95);
    }

    .toast{
      position: fixed;
      left: 18px;
      right: 18px;
      bottom: calc(110px + env(safe-area-inset-bottom));
      z-index: 6;
      padding: 12px 14px;
      border-radius: 16px;
      background: rgba(10,0,22,.78);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 10px 26px rgba(0,0,0,.42), 0 0 18px rgba(180,120,255,.24);
      backdrop-filter: blur(8px);
      transform: translateY(12px);
      opacity: 0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      font-weight: 700;
    }

    .toast.show{
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 360px){
      .cardTitle{ font-size: 22px; }
      .navBtn{ height: 64px; }
      .decor{ width: 230px; height: 230px; }
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="bg-glow" aria-hidden="true"></div>

    <header class="top">
      <h1 class="title">
        <span class="brand">LesPaw</span>
        <span class="dot">¬∑</span>
        <span class="subbrand">–§–∞–Ω–¥–æ–º–Ω–∞—è –ê—Ç—Ä–∏–±—É—Ç–∏–∫–∞</span>
      </h1>

      <div class="search" role="search" aria-label="–ü–æ–∏—Å–∫">
        <input id="globalSearch" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ñ–∞–Ω–¥–æ–º–∞–º –∏ —Ç–æ–≤–∞—Ä–∞–º‚Ä¶" autocomplete="off" />
        <button id="searchBtn" class="searchBtn" type="button" aria-label="–ò—Å–∫–∞—Ç—å">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M10.5 3a7.5 7.5 0 1 1 4.64 13.4l3.23 3.23a1 1 0 0 1-1.41 1.41l-3.23-3.23A7.5 7.5 0 0 1 10.5 3Zm0 2a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11Z"></path>
          </svg>
        </button>
      </div>
    </header>

    <main class="main">
      <section class="cards" aria-label="–†–∞–∑–¥–µ–ª—ã">
        <button class="card" type="button" data-action="categories">
          <div class="cardTitle">–ö–ê–¢–ï–ì–û–†–ò–ò</div>
          <div class="cardSubtitle">–í—ã–±–æ—Ä —Ñ–∞–Ω–¥–æ–º–∞ –ø–æ —Ç–∏–ø—É</div>
        </button>

        <button class="card" type="button" data-action="lamination">
          <div class="cardTitle">–ü–†–ò–ú–ï–†–´ –õ–ê–ú–ò–ù–ê–¶–ò–ò –ò –ü–õ–ï–ù–ö–ò</div>
          <div class="cardSubtitle">–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç</div>
        </button>

        <button class="card" type="button" data-action="reviews">
          <div class="cardTitle">–û–¢–ó–´–í–´</div>
          <div class="cardSubtitle">–û—Ç–∑—ã–≤—ã –æ—Ç –Ω–∞—à–∏—Ö –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª—å–Ω–∏—Ü</div>
        </button>

        <button class="card" type="button" data-action="info">
          <div class="cardTitle">–í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø</div>
          <div class="cardSubtitle">–û–ø–ª–∞—Ç–∞, —Å—Ä–æ–∫–∏, –¥–æ—Å—Ç–∞–≤–∫–∞</div>
        </button>
      </section>

      <aside class="decor" aria-hidden="true">
        <div class="hearts">
          <span class="heart h1">üíú</span>
          <span class="heart h2">üíú</span>
          <span class="heart h3">üíú</span>
          <span class="spark s1">‚ú¶</span>
          <span class="spark s2">‚ú¶</span>
        </div>

        <div class="foxWrap">
          <svg class="fox" viewBox="0 0 280 260" aria-hidden="true" focusable="false">
            <defs>
              <filter id="glowFilter" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="8" result="b"></feGaussianBlur>
                <feMerge>
                  <feMergeNode in="b"></feMergeNode>
                  <feMergeNode in="SourceGraphic"></feMergeNode>
                </feMerge>
              </filter>
            </defs>

            <g filter="url(#glowFilter)">
              <path d="M52 110c0-52 38-88 88-88s88 36 88 88-38 96-88 96-88-44-88-96Z" fill="#2a1b2f"></path>
              <path d="M70 40l38 28-48 36Z" fill="#ff9f43"></path>
              <path d="M210 40l-38 28 48 36Z" fill="#ff9f43"></path>
              <path d="M82 54l20 14-24 18Z" fill="#ffe7d0" opacity="0.95"></path>
              <path d="M198 54l-20 14 24 18Z" fill="#ffe7d0" opacity="0.95"></path>
              <path d="M86 118c6 40 30 64 54 70 24-6 48-30 54-70-12-12-30-20-54-20s-42 8-54 20Z" fill="#ffe7d0"></path>
              <path d="M108 120c0 10-8 18-18 18s-18-8-18-18 8-18 18-18 18 8 18 18Z" fill="#2a1b2f"></path>
              <path d="M208 120c0 10-8 18-18 18s-18-8-18-18 8-18 18-18 18 8 18 18Z" fill="#2a1b2f"></path>
              <ellipse cx="92" cy="158" rx="16" ry="10" fill="#ff7dbb" opacity="0.55"></ellipse>
              <ellipse cx="188" cy="158" rx="16" ry="10" fill="#ff7dbb" opacity="0.55"></ellipse>
              <path d="M136 150c0 6-6 10-12 10s-12-4-12-10 6-10 12-10 12 4 12 10Z" fill="#2a1b2f"></path>
              <path d="M124 166c6 10 22 10 28 0" stroke="#2a1b2f" stroke-width="6" stroke-linecap="round" fill="none"></path>
            </g>

            <g transform="translate(130,165)">
              <path d="M0 40c-18-12-40-28-40-50 0-15 12-26 27-26 8 0 14 3 19 9 5-6 11-9 19-9 15 0 27 11 27 26 0 22-22 38-40 50l-6 4-6-4Z" fill="#b977ff"></path>
              <path d="M-16 -6c6-10 20-10 26-2" stroke="#ffffff" stroke-width="6" stroke-linecap="round" opacity="0.35"></path>
            </g>
          </svg>
        </div>
      </aside>
    </main>

    <nav class="bottomNav" aria-label="–ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
      <button id="btnBack" class="navBtn" type="button" aria-label="–ù–∞–∑–∞–¥">
        <svg viewBox="0 0 24 24" width="28" height="28" aria-hidden="true">
          <path d="M14.5 5.5a1 1 0 0 1 0 1.4L10.4 11l4.1 4.1a1 1 0 1 1-1.4 1.4l-4.8-4.8a1 1 0 0 1 0-1.4l4.8-4.8a1 1 0 0 1 1.4 0Z"></path>
        </svg>
      </button>

      <button id="btnFav" class="navBtn" type="button" aria-label="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
        <span class="badge" id="favBadge" hidden>0</span>
        <svg viewBox="0 0 24 24" width="28" height="28" aria-hidden="true">
          <path d="M12 21s-7-4.6-9.4-8.7C.7 8.9 2.8 5.8 6.2 5.3c1.9-.3 3.6.6 4.6 1.8 1-1.2 2.7-2.1 4.6-1.8 3.4.5 5.5 3.6 3.6 7-2.4 4.1-9 8.7-9 8.7Z"></path>
        </svg>
      </button>

      <button id="btnCart" class="navBtn" type="button" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
        <span class="badge" id="cartBadge" hidden>0</span>
        <svg viewBox="0 0 24 24" width="30" height="30" aria-hidden="true">
          <path d="M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM6.2 6h15.2a1 1 0 0 1 1 1.2l-1.4 7.2a2 2 0 0 1-2 1.6H8.2a2 2 0 0 1-2-1.6L4.8 3.9H2.5a1 1 0 1 1 0-2h3.1a1 1 0 0 1 1 .8L6.2 6Z"></path>
        </svg>
      </button>
    </nav>

    <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
  </div>

  <script>
    (function () {
      var tg = (window.Telegram && window.Telegram.WebApp) ? window.Telegram.WebApp : null;
      try {
        if (tg && typeof tg.ready === "function") tg.ready();
        if (tg && typeof tg.expand === "function") tg.expand();
      } catch (e) {}

      function $(sel) { return document.querySelector(sel); }
      var toastEl = $("#toast");
      var searchInput = $("#globalSearch");
      var searchBtn = $("#searchBtn");

      var favBadge = $("#favBadge");
      var cartBadge = $("#cartBadge");

      function toInt(v) {
        var n = parseInt(v, 10);
        return isNaN(n) ? 0 : n;
      }

      var state = {
        favCount: toInt(localStorage.getItem("lespaw_fav")),
        cartCount: toInt(localStorage.getItem("lespaw_cart"))
      };

      function setBadge(el, count) {
        if (!el) return;
        if (!count) {
          el.hidden = true;
          el.textContent = "0";
          el.classList.remove("glow");
          return;
        }
        el.hidden = false;
        el.textContent = String(count);
        el.classList.add("glow");
      }

      function saveState() {
        localStorage.setItem("lespaw_fav", String(state.favCount));
        localStorage.setItem("lespaw_cart", String(state.cartCount));
      }

      function toast(msg) {
        if (!toastEl) return;
        toastEl.textContent = msg;
        toastEl.classList.add("show");
        if (toastEl._t) clearTimeout(toastEl._t);
        toastEl._t = setTimeout(function () {
          toastEl.classList.remove("show");
        }, 1600);
      }

      setBadge(favBadge, state.favCount);
      setBadge(cartBadge, state.cartCount);

      function go(action) {
        var map = {
          categories: "–û—Ç–∫—Ä—ã–≤–∞—é ¬´–ö–∞—Ç–µ–≥–æ—Ä–∏–∏¬ª‚Ä¶",
          lamination: "–û—Ç–∫—Ä—ã–≤–∞—é ¬´–ü—Ä–∏–º–µ—Ä—ã –ª–∞–º–∏–Ω–∞—Ü–∏–∏ –∏ –ø–ª—ë–Ω–∫–∏¬ª‚Ä¶",
          reviews: "–û—Ç–∫—Ä—ã–≤–∞—é ¬´–û—Ç–∑—ã–≤—ã¬ª‚Ä¶",
          info: "–û—Ç–∫—Ä—ã–≤–∞—é ¬´–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è¬ª‚Ä¶",
          fav: "–û—Ç–∫—Ä—ã–≤–∞—é ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–µ¬ª‚Ä¶",
          cart: "–û—Ç–∫—Ä—ã–≤–∞—é ¬´–ö–æ—Ä–∑–∏–Ω–∞¬ª‚Ä¶"
        };
        toast(map[action] || "–û—Ç–∫—Ä—ã–≤–∞—é‚Ä¶");
      }

      var cards = document.querySelectorAll(".card");
      for (var i = 0; i < cards.length; i++) {
        (function (btn) {
          btn.addEventListener("click", function () {
            go(btn.getAttribute("data-action"));
          });
        })(cards[i]);
      }

      var btnBack = $("#btnBack");
      var btnFav = $("#btnFav");
      var btnCart = $("#btnCart");

      if (btnBack) {
        btnBack.addEventListener("click", function () {
          if (window.history && window.history.length > 1) window.history.back();
          else if (tg && typeof tg.close === "function") tg.close();
        });
      }
      if (btnFav) btnFav.addEventListener("click", function () { go("fav"); });
      if (btnCart) btnCart.addEventListener("click", function () { go("cart"); });

      function runSearch() {
        var q = searchInput ? String(searchInput.value || "").trim() : "";
        if (!q) return toast("–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞");
        toast("–ò—â—É: ¬´" + q + "¬ª");
      }

      if (searchBtn) searchBtn.addEventListener("click", runSearch);
      if (searchInput) {
        searchInput.addEventListener("keydown", function (e) {
          if (e && e.key === "Enter") runSearch();
        });
      }

      // DEV long-press –¥–ª—è —Ç–µ—Å—Ç–∞ –±–µ–π–¥–∂–µ–π (–º–æ–∂–µ—à—å —É–¥–∞–ª–∏—Ç—å)
      var pressTimer = null;
      function attachLongPress(el, onLong) {
        if (!el) return;

        function start() {
          if (pressTimer) clearTimeout(pressTimer);
          pressTimer = setTimeout(function () { onLong(); }, 420);
        }
        function cancel() {
          if (pressTimer) clearTimeout(pressTimer);
          pressTimer = null;
        }

        el.addEventListener("pointerdown", start);
        el.addEventListener("pointerup", cancel);
        el.addEventListener("pointercancel", cancel);
        el.addEventListener("pointerleave", cancel);
      }

      attachLongPress(btnFav, function () {
        state.favCount = (state.favCount + 1) % 10;
        setBadge(favBadge, state.favCount);
        saveState();
        toast("–¢–µ—Å—Ç: –∏–∑–±—Ä–∞–Ω–Ω–æ–µ +1");
      });

      attachLongPress(btnCart, function () {
        state.cartCount = (state.cartCount + 1) % 10;
        setBadge(cartBadge, state.cartCount);
        saveState();
        toast("–¢–µ—Å—Ç: –∫–æ—Ä–∑–∏–Ω–∞ +1");
      });
    })();
  </script>
</body>
</html>
